---
 - hosts: all
   tasks:
   - name: pull the docker image from registery
     raw: docker pull kanduriprasanth/pipeline2
     tags:
       - dev

   - name: remove the exisiting container if already present
     raw: docker rm -f web
     ignore_errors: true
     tags:
       - dev

   - name: spin the container
     raw: docker run -dti --name web -p 21:80 kanduriprasanth/pipeline2 /bin/bash
     tags:
       - dev

   - name: pull the docker image from registery
     raw: docker pull kanduriprasanth/pipeline2
     tags:
       - qa

   - name: remove the existing container if already present
     raw: docker rm -f web1
     ignore_errors: true
     tags: 
       - qa
   
   - name: spin the container
     raw: docker run -dit --name web1 -p 22:80 kanduriprasanth/pipeline2 /bin/bash
     tags:
       - qa
...
